{"version":3,"file":"sample-feature2.js","sources":["../../projects/sample-feature2/src/lib/feature2-sub/feature2-sub.component.html","../../projects/sample-feature2/src/lib/feature2-sub/feature2-sub.component.ts","../../projects/sample-feature2/src/lib/feature2.service.ts","../../projects/sample-feature2/src/lib/feature2.component.html","../../projects/sample-feature2/src/lib/feature2.component.ts","../../projects/sample-feature2/src/lib/mocks/fake-backend.interceptor.ts","../../projects/sample-feature2/src/lib/feature2.module.ts","../../projects/sample-feature2/src/public-api.ts","../../projects/sample-feature2/src/sample-feature2.ts"],"sourcesContent":["<div class=\"feature2-sub\">\n  <button mat-button (click)=\"isOpen = !isOpen\" cdkOverlayOrigin #trigger=\"cdkOverlayOrigin\">Feature 2 sub component {{isOpen ? \"Opened\" : \"Closed\"}}</button>\n  <!-- This template displays the overlay content and is connected to the button -->\n  <ng-template\n    cdkConnectedOverlay\n    [cdkConnectedOverlayOrigin]=\"trigger\"\n    [cdkConnectedOverlayOpen]=\"isOpen\"\n  >\n    <ul class=\"example-list\">\n      <li>Item 1</li>\n      <li>Item 2</li>\n      <li>Item 3</li>\n    </ul>\n  </ng-template>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'feature2-sub',\n  templateUrl: './feature2-sub.component.html',\n  styleUrls: ['./feature2-sub.component.scss']\n})\nexport class Feature2SubComponent implements OnInit {\n  isOpen = false;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { IFeature2DataItem } from './feature2.model';\n\n@Injectable()\nexport class Feature2Service {\n  readonly feature2ApiUri = '/feature2api/feature2data';\n  constructor(private http: HttpClient) {}\n\n  getFeature2Data(): Observable<Array<IFeature2DataItem>> {\n    const httpHeaders = new HttpHeaders().set('Content-Type', 'application/json; charset=utf-8');\n    return this.http.get<Array<IFeature2DataItem>>(this.feature2ApiUri, {headers: httpHeaders});\n  }\n}\n","<div class=\"feature2\">\n  <div class=\"feature2-header\"><b>Feature 2 Page</b></div>\n  <div>\n    <table cdk-table [dataSource]=\"dataSource\">\n      <ng-container cdkColumnDef=\"dataPoint1\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 1 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint1}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint2\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 2 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint2}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint3\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 3 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint3}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint4\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 4 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint4}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint5\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 5 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint5}} </td>\n      </ng-container>\n\n      <tr cdk-header-row *cdkHeaderRowDef=\"displayedColumns\"></tr>\n      <tr cdk-row *cdkRowDef=\"let row; columns: displayedColumns;\"></tr>\n    </table>\n  </div>\n  <div>\n    <button mat-button (click)=\"onMessageButtonClick()\">Send Message To Feature 1</button>\n  </div>\n</div>\n","import { Component, InjectionToken, Injector, OnInit } from '@angular/core';\nimport { DataSource } from '@angular/cdk/collections';\nimport { IFeature2DataItem } from './feature2.model';\nimport { Feature2Service } from './feature2.service';\nimport { Observable } from 'rxjs';\nimport { MessagingService, InjectionTokens } from 'cross-cutting-concern';\n\n@Component({\n  selector: 'app-feature2',\n  templateUrl: './feature2.component.html',\n  styleUrls: ['./feature2.component.scss']\n})\nexport class Feature2Component implements OnInit {\n  messagingService: MessagingService = {} as MessagingService;\n  displayedColumns: string[] = ['dataPoint1', 'dataPoint2', 'dataPoint3', 'dataPoint4', 'dataPoint5'];\n  dataSource: Feature2DataSource = {} as Feature2DataSource;\n\n  constructor(private feature2Service: Feature2Service, private injector: Injector) { }\n\n  ngOnInit(): void {\n    this.messagingService = this.injector.get<any>(InjectionTokens.messagingServiceInjectionToken);\n    this.dataSource = new Feature2DataSource(this.feature2Service);\n  }\n\n  onMessageButtonClick(): void {\n    this.messagingService.messageToFeature1({\n      messageText: 'Message from feature1',\n      messageTime: new Date()\n    });\n  }\n}\n\nexport class Feature2DataSource extends DataSource<IFeature2DataItem> {\n  constructor(private feature2Service: Feature2Service) {\n    super();\n  }\n  connect(): Observable<IFeature2DataItem[]> {\n    return this.feature2Service.getFeature2Data();\n  }\n\n  disconnect(): void { }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { delay, dematerialize, materialize, mergeMap } from 'rxjs/operators';\n\n@Injectable()\nexport class FakeBackendInterceptor implements HttpInterceptor {\n  constructor() {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // return delayed observable to simulate server api call\n    return of(null)\n      .pipe(mergeMap(() => {\n        if (request.url.endsWith('feature2api/feature2data')) {\n          return of(new HttpResponse({status: 200, body: [\n              {dataPoint1: 1, dataPoint2: 'testval1', dataPoint3: 'testval1', dataPoint4: 'testval1', dataPoint5: 'testval1'},\n              {dataPoint1: 2, dataPoint2: 'testval2', dataPoint3: 'testval2', dataPoint4: 'testval2', dataPoint5: 'testval2'},\n              {dataPoint1: 3, dataPoint2: 'testval3', dataPoint3: 'testval3', dataPoint4: 'testval3', dataPoint5: 'testval3'},\n              {dataPoint1: 4, dataPoint2: 'testval4', dataPoint3: 'testval4', dataPoint4: 'testval4', dataPoint5: 'testval4'},\n              {dataPoint1: 5, dataPoint2: 'testval5', dataPoint3: 'testval5', dataPoint4: 'testval5', dataPoint5: 'testval5'},\n              {dataPoint1: 6, dataPoint2: 'testval6', dataPoint3: 'testval6', dataPoint4: 'testval6', dataPoint5: 'testval6'},\n              {dataPoint1: 7, dataPoint2: 'testval7', dataPoint3: 'testval7', dataPoint4: 'testval7', dataPoint5: 'testval7'},\n              {dataPoint1: 8, dataPoint2: 'testval8', dataPoint3: 'testval8', dataPoint4: 'testval8', dataPoint5: 'testval8'}\n            ]}));\n        }\n        return next.handle(request);\n      }))\n      .pipe(materialize())\n      .pipe(delay(500))\n      .pipe(dematerialize());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Feature2SubComponent } from './feature2-sub/feature2-sub.component';\nimport { Feature2Component } from './feature2.component';\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\nimport { FakeBackendInterceptor } from './mocks/fake-backend.interceptor';\nimport { Feature2Service } from './feature2.service';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { OverlayModule } from '@angular/cdk/overlay';\n\n@NgModule({\n  declarations: [Feature2SubComponent, Feature2Component],\n  imports: [\n    HttpClientModule,\n    CdkTableModule,\n    OverlayModule\n  ],\n  providers: [\n    Feature2Service,\n    // Providing fake backend interceptor for simulating api calls. Remove this before using an actual api\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: FakeBackendInterceptor,\n      multi: true\n    }\n  ],\n  exports: [\n    Feature2SubComponent\n  ]\n})\nexport class Feature2Module { }\n","/*\n * Public API Surface of sample-feature2\n */\n\nexport * from './lib/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵlistener","i0.ɵɵtemplate","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","i0.ɵɵproperty","i0.ɵɵelement","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd"],"mappings":"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"}