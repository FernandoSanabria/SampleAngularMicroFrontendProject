{"version":3,"file":"sample-feature1.js","sources":["../../projects/sample-feature1/src/lib/feature1.service.ts","../../projects/sample-feature1/src/lib/feature1.component.html","../../projects/sample-feature1/src/lib/feature1.component.ts","../../projects/sample-feature1/src/lib/mocks/fake-backend.interceptor.ts","../../projects/sample-feature1/src/lib/feature1.module.ts","../../projects/sample-feature1/src/public-api.ts","../../projects/sample-feature1/src/sample-feature1.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { IFeature1DataItem } from './feature1.model';\n\n@Injectable()\nexport class Feature1Service {\n  readonly feature1ApiUri = '/feature1api/feature1data';\n  constructor(private http: HttpClient) {}\n\n  getFeature1Data(): Observable<Array<IFeature1DataItem>> {\n    const httpHeaders = new HttpHeaders().set('Content-Type', 'application/json; charset=utf-8');\n    return this.http.get<Array<IFeature1DataItem>>(this.feature1ApiUri, {headers: httpHeaders});\n  }\n}\n","<div class=\"feature1\">\n  <div class=\"feature1-header\"><b>Feature 1 Page</b></div>\n  <div>\n    <table cdk-table [dataSource]=\"dataSource\">\n      <ng-container cdkColumnDef=\"dataPoint1\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 1 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint1}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint2\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 2 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint2}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint3\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 3 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint3}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint4\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 4 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint4}} </td>\n      </ng-container>\n\n      <ng-container cdkColumnDef=\"dataPoint5\">\n        <th cdk-header-cell *cdkHeaderCellDef> Data Point 5 </th>\n        <td cdk-cell *cdkCellDef=\"let element\"> {{element.dataPoint5}} </td>\n      </ng-container>\n\n      <tr cdk-header-row *cdkHeaderRowDef=\"displayedColumns\"></tr>\n      <tr cdk-row *cdkRowDef=\"let row; columns: displayedColumns;\"></tr>\n    </table>\n  </div>\n  <div>\n    <span *ngIf=\"message\">Message received: {{ message }}</span>\n  </div>\n</div>\n","import { Component, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Feature1Service } from './feature1.service';\nimport { DataSource } from '@angular/cdk/collections';\nimport { IFeature1DataItem } from './feature1.model';\nimport { Observable, Subscription } from 'rxjs';\nimport { MessagingService, IMessageToFeature1, InjectionTokens } from 'cross-cutting-concern';\n\n@Component({\n  selector: 'feature1-component',\n  templateUrl: './feature1.component.html',\n  styleUrls: ['./feature1.component.scss']\n})\nexport class Feature1Component implements OnInit, OnDestroy {\n  messagingService: MessagingService = {} as MessagingService;\n  messageToFeature1Sub: Subscription = {} as Subscription;\n  message: string | null = null;\n  displayedColumns: string[] = ['dataPoint1', 'dataPoint2', 'dataPoint3', 'dataPoint4', 'dataPoint5'];\n  dataSource: Feature1DataSource = {} as Feature1DataSource;\n\n  constructor(private feature1Service: Feature1Service,\n              private injector: Injector) {}\n\n  ngOnInit(): void {\n    this.messagingService = this.injector.get<any>(InjectionTokens.messagingServiceInjectionToken);\n    this.messageToFeature1Sub = this.messagingService.messageToFeature1$.subscribe(\n      x => this.handleMessageToFeature1(x)\n    );\n    this.dataSource = new Feature1DataSource(this.feature1Service);\n  }\n\n  ngOnDestroy(): void {\n   if (this.messageToFeature1Sub) {\n      this.messageToFeature1Sub.unsubscribe();\n    }\n  }\n\n  private handleMessageToFeature1(message: IMessageToFeature1 | undefined): void {\n    if (message) {\n      this.message = JSON.stringify(message);\n    }\n  }\n}\n\nexport class Feature1DataSource extends DataSource<IFeature1DataItem> {\n  constructor(private feature1Service: Feature1Service) {\n    super();\n  }\n  connect(): Observable<IFeature1DataItem[]> {\n    return this.feature1Service.getFeature1Data();\n  }\n\n  disconnect(): void {}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { delay, dematerialize, materialize, mergeMap } from 'rxjs/operators';\n\n@Injectable()\nexport class FakeBackendInterceptor implements HttpInterceptor {\n  constructor() {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // return delayed observable to simulate server api call\n    return of(null)\n      .pipe(mergeMap(() => {\n        if (request.url.endsWith('feature1api/feature1data')) {\n          return of(new HttpResponse({status: 200, body: [\n              {dataPoint1: 1, dataPoint2: 'testval1', dataPoint3: 'testval1', dataPoint4: 'testval1', dataPoint5: 'testval1'},\n              {dataPoint1: 2, dataPoint2: 'testval2', dataPoint3: 'testval2', dataPoint4: 'testval2', dataPoint5: 'testval2'},\n              {dataPoint1: 3, dataPoint2: 'testval3', dataPoint3: 'testval3', dataPoint4: 'testval3', dataPoint5: 'testval3'},\n              {dataPoint1: 4, dataPoint2: 'testval4', dataPoint3: 'testval4', dataPoint4: 'testval4', dataPoint5: 'testval4'},\n              {dataPoint1: 5, dataPoint2: 'testval5', dataPoint3: 'testval5', dataPoint4: 'testval5', dataPoint5: 'testval5'},\n              {dataPoint1: 6, dataPoint2: 'testval6', dataPoint3: 'testval6', dataPoint4: 'testval6', dataPoint5: 'testval6'},\n              {dataPoint1: 7, dataPoint2: 'testval7', dataPoint3: 'testval7', dataPoint4: 'testval7', dataPoint5: 'testval7'},\n              {dataPoint1: 8, dataPoint2: 'testval8', dataPoint3: 'testval8', dataPoint4: 'testval8', dataPoint5: 'testval8'}\n            ]}));\n        }\n        return next.handle(request);\n      }))\n      .pipe(materialize())\n      .pipe(delay(500))\n      .pipe(dematerialize());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Feature1Component } from './feature1.component';\nimport { Feature1Service } from './feature1.service';\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { FakeBackendInterceptor } from './mocks/fake-backend.interceptor';\nimport { MatTableModule } from '@angular/material/table'\n\n\n\n\n@NgModule({\n  declarations: [Feature1Component],\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    CdkTableModule,\n    MatTableModule\n  ],\n  providers: [\n    Feature1Service,\n    // Providing fake backend interceptor for simulating api calls. Remove this before using an actual api\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: FakeBackendInterceptor,\n      multi: true\n    }\n  ]\n})\nexport class Feature1Module { }\n","/*\n * Public API Surface of sample-feature1\n */\n\nexport * from './lib/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","i0.ɵɵelement","i0.ɵɵelementContainerStart","i0.ɵɵtemplate","i0.ɵɵelementContainerEnd","i0.ɵɵproperty"],"mappings":"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"}